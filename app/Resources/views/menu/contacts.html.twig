{% extends 'base.html.twig' %}

{% block title %}{{ dict.websiteName }} - {{ dict.contacts }}{% endblock %}
{% block body %}

    <div class="fit-in-screen clearfix">

        <h1 class="fat-text">{{ dict.contacts }}</h1>
        <hr>
        {% block contacts %}
            <section>
                {% if info is defined and info != null %}
                    <h2 class="alert alert-success">{{ info }}</h2>
                {% endif %}
                {% embed 'partials/forms/contact-form.html.twig' %} {% endembed %}
            </section>
        {% endblock %}

    </div>

{% endblock %}

{% block javascripts %}
    <script>
        $(function () {
            //Show spinner on submit and make so user can only submit the message once.
            var sendMsgForm = document.querySelector('.send-msg-form');
            var msgSentSpinner = $(document.querySelector('.message-sent-spinner'));
            var isMessageSentOnce = false;

            $('.btn-send-message').on('click', function (eventArgs) {
                if (!sendMsgForm.checkValidity()) {
                    return;
                }

                if (isMessageSentOnce) {
                    eventArgs.preventDefault();
                }

                isMessageSentOnce = true;
                msgSentSpinner.parent().show();
            });
        });
    </script>
{% endblock %}